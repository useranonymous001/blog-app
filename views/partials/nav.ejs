<nav
  class="navbar navbar-expand-lg bg-body-tertiary bg-dark"
  data-bs-theme="dark"
>
  <div class="container-fluid">
    <a class="navbar-brand" href="/home"
      >Blog<span style="color: #ff9900; font-weight: bold">Hub</span></a
    >
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarNavDropdown"
      aria-controls="navbarNavDropdown"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="/home">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about-us">About Us</a>
        </li>

        <% if (locals.user) { %>
        <li class="nav-item">
          <a class="nav-link" href="/blog/writeBlog">Create Blog</a>
        </li>
      
        <li class="nav-item">
          <a class="nav-link" href="/blog/myBlogs/<%= user._id %>">My Blogs</a>
        </li>
      

        <% } %> <% if (locals.user) { %>
        <li class="nav-item dropdown">
          <a
            class="nav-link dropdown-toggle"
            href="#"
            role="button"
            data-bs-toggle="dropdown"
            aria-expanded="false"
          >
            <%= user.fullName %>
          </a>
          <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="/user/logout">logout</a></li>
          </ul>
        </li>
        <% } else { %>
        <li class="nav-item">
          <a class="nav-link" href="/user/signin">Create Account</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/user/login">Login</a>
        </li>
        <% } %>
      </ul>
      
      <% if (locals.user) { %>

        <div class=" d-flex flex-row position-absolute end-0 p-2">
          
          <div class=" align-content-center rounded me-3 ">
            <a class="nav-link text-white focus-ring" target="_blank" href="https://github.com/useranonymous001/blog-app">View Code</a>
          </div>

          <div class=" align-content-center  me-3">
            <a class="nav-link" style="color: #ff9900;" href="/user/profile">Visit Profile</a>
          </div>
          <div>
            <img src="<%= user.profileImageUrl %>" alt="user profile" style="width: 50px; height: 50px;border-radius: 50%; object-fit: cover; overflow: hidden;" ></div>
        </div>       
      <% } %>

 
    </div>
  </div>




  <!-- showing success and error messages -->
  <% if(locals.error) { %>
    <div class="alert alert-danger alert-dismissible fade show position-absolute top-0 end-0" role="alert">
      <strong>Failed !!</strong> <%= locals.error %>
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    
      <% } %>
      
      <% if(locals.success) { %>
    
      <div class="alert alert-success alert-dismissible fade show position-absolute top-0 end-0" role="alert">
        <strong>Success !!</strong> <%= locals.success %>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="alert"
          aria-label="Close"
        ></button>
      </div>
    
      <% } %>
</nav>
</div>
