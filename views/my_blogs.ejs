<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include ("./partials/head") %>

    <title>Blog Hub: Read</title>
  </head>
  <style>
    .card:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
    }
    body {
      background-color: #000a1a;
      font-family: "Montserrat", sans-serif;
      color: whitesmoke;
    }
  </style>
  <body>
    <%- include ("./partials/nav") %>

    <div class="container">
      <% if (locals.user) { %>
      <div class="mt-3 mb-3 h-100">
        <h2 style="color: #ff9900">Your Blogs</h2>
      </div>

      <div class="row">
        <% blogs.forEach(blog => { %>

        <div class="col-md-4 mb-4">
          <div
            class="card h-100"
            style="
              transition: transform 0.3s, box-shadow 0.3s;
              box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            "
          >
            <div
              class="card-img-top-container"
              style="overflow: hidden; height: 150px"
            >
              <img
                src="<%= blog.coverImageUrl %>"
                class="card-img-top"
                style="width: 100%; height: 100%; object-fit: cover"
                alt="Blog image"
              />
            </div>
            <div class="card-body">
              <h5 class="card-title"><%= blog.title %></h5>
              <p
                class="card-text text-muted"
                style="
                  display: -webkit-box;
                  -webkit-box-orient: vertical;
                  -webkit-line-clamp: 2;
                  overflow: hidden;
                  text-overflow: ellipsis;
                  height: calc(1.2em * 2);
                  line-height: 1.2em;
                  line-clamp: 2;
                "
              >
                <%= blog.content %>
              </p>

              <div
                class="main-btn-container d-flex justify-content-between direction-row"
              >
                <div>
                  <a
                    href="/blog/view/<%= blog._id %>"
                    class="btn btn-sm"
                    style="background-color: #ff9900"
                    >View Blog</a
                  >
                </div>
                <div>
                  <a
                    href="/blog/edit/post/<%= blog._id %>"
                    class="btn btn-sm"
                    style="color: #000a1a; text-decoration: underline"
                    >Edit Blog</a
                  >
                  <a
                    href="/blog/post/delete/<%= blog._id %>"
                    class="btn btn-sm"
                    style="color: red; text-decoration: underline"
                    >Delete Blog</a
                  >
                </div>
              </div>
            </div>

            <div class="card-footer text-muted">
              Posted by <%= blog.author.fullName %> on <%=
              blog.createdAt.toJSON() %>
            </div>
          </div>
        </div>

        <% }) %>
      </div>
      <% } %>
    </div>
    <%- include("./partials/footer") %> <%- include ("./partials/scripts") %>
  </body>
</html>
